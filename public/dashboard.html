<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de Bord - Port de Russell</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            background-color: #f4f4f4;
        }
        h1 {
            color: #333;
        }
        form {
            margin-top: 20px;
            padding: 20px;
            border: 1px solid #ddd;
            background-color: white;
        }
        label {
            display: block;
            margin: 10px 0 5px;
        }
        input {
            padding: 10px;
            margin-bottom: 10px;
            width: 100%;
            max-width: 300px;
        }
        button {
            padding: 10px 20px;
            background-color: #007BFF;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
        a {
            display: inline-block;
            margin-top: 20px;
            text-decoration: none;
            color: #007BFF;
        }
        #message {
            color: red;
        }
    </style>
</head>
<body>
    <h1>Tableau de Bord - Port de Russell</h1>
    <div id="message"></div> <!-- Zone pour afficher les messages -->

    <h2>Gestion des Utilisateurs</h2>
    <form action="/auth/register" method="POST">
        <h3>Créer un utilisateur</h3>
        
        <label for="newUserId">Identifiant :</label>
        <input type="text" id="newUserId" name="userId" required>
        <br>
    
        <label for="newUserEmail">Email :</label>
        <input type="email" id="newUserEmail" name="email" required>
        <br>
    
        <label for="newUserPassword">Mot de passe :</label>
        <input type="password" id="newUserPassword" name="password" required>
        <br>
    
        <button type="submit">Créer Utilisateur</button>
    </form>
    
    <form action="/auth/update-user" method="POST">
        <h3>Modifier un Utilisateur</h3>
        <label for="updateUserId">Identifiant :</label>
        <input type="text" id="updateUserId" name="userId" required>
        <br>
        <label for="updateUserEmail">Nouveau Email :</label>
        <input type="email" id="updateUserEmail" name="email" required>
        <br>
        <label for="updateUserPassword">Nouveau Mot de passe :</label>
        <input type="password" id="updateUserPassword" name="password">
        <br>
        <button type="submit">Modifier Utilisateur</button>
    </form>
    
    <form action="/auth/delete-user" method="POST">
        <h3>Supprimer un Utilisateur</h3>
        <label for="deleteUserId">Identifiant :</label>
        <input type="text" id="deleteUserId" name="userId" required>
        <br>
        <button type="submit">Supprimer Utilisateur</button>
    </form>
    

    <h2>Gestion des Catways</h2>

<!-- Formulaire pour créer un catway -->
<form action="/catways/create" method="POST">
    <h3>Créer un Catway</h3>
    <label for="catwayId">Identifiant du Catway :</label>
    <input type="text" id="catwayId" name="catwayId" required>
    <br>
    <label for="catwayNumber">Numéro du Catway :</label>
    <input type="text" id="catwayNumber" name="catwayNumber" required>
    <br>
    <label for="type">Type :</label>
    <input type="text" id="type" name="type" required>
    <br>
    <label for="catwayState">État du Catway :</label>
    <input type="text" id="catwayState" name="catwayState" required>
    <br>
    <button type="submit">Créer Catway</button>
</form>


<!-- Formulaire pour modifier un catway -->
<form action="/catways/update" method="POST">
    <h3>Modifier un Catway</h3>
    <label for="updateCatwayId">ID du Catway :</label>
    <input type="text" id="updateCatwayId" name="catwayId" required>
    <br>
    <label for="updateCatwayNumber">Nouveau Numéro de Catway :</label>
    <input type="number" id="updateCatwayNumber" name="catwayNumber" required>
    <br>
    <label for="updateCatwayType">Nouveau Type :</label>
    <input type="text" id="updateCatwayType" name="type" required>
    <br>
    <label for="updateCatwayState">Nouvel État du Catway :</label>
    <input type="text" id="updateCatwayState" name="catwayState" required>
    <br>
    <button type="submit">Modifier Catway</button>
</form>

<!-- Formulaire pour supprimer un catway -->
<form action="/catways/delete" method="POST">
    <h3>Supprimer un Catway</h3>
    <label for="catwayId">Identifiant du Catway :</label>
    <input type="text" id="catwayId" name="catwayId" required>
    <br>
    <button type="submit">Supprimer Catway</button>
</form>


 <!-- Formulaire pour afficher les détails d'un catway -->
 <form onsubmit="return showCatwayDetails(this)">
    <h3>Afficher les Détails d’un Catway</h3>
    <label for="catwayIdDetails">ID du Catway :</label>
    <input type="text" id="catwayIdDetails" name="catwayId" required>
    <br>
    <button type="submit">Afficher Détails</button>
</form>

<script>
    function showCatwayDetails(form) {
        const catwayId = form.catwayId.value; // Récupère l'ID du catway
        window.location.href = `/catways/details/${catwayId}`; // Redirige vers la route de détails
        return false; // Empêche l'envoi du formulaire
    }
    </script>


<h2>Gestion des Réservations</h2>

<!-- Formulaire pour enregistrer une réservation -->
<form action="/reservations" method="POST"> <!-- Utiliser la bonne route -->
    <h3>Enregistrer une Réservation</h3>
    
    <label for="catwayNumber">Numéro du Catway :</label>
    <input type="number" id="catwayNumber" name="catwayNumber" required>
    
    <label for="clientName">Nom du Client :</label>
    <input type="text" id="clientName" name="clientName" required>
    
    <label for="boatName">Nom du Bateau :</label>
    <input type="text" id="boatName" name="boatName" required>
    
    <label for="checkIn">Date d'Arrivée :</label>
    <input type="datetime-local" id="checkIn" name="checkIn" required>
    
    <label for="checkOut">Date de Départ :</label>
    <input type="datetime-local" id="checkOut" name="checkOut" required>
    
    <button type="submit">Enregistrer Réservation</button>
</form>


<!-- Formulaire pour supprimer une réservation -->
<form action="/reservations/delete" method="POST">
    <h3>Supprimer une Réservation</h3>
    <label for="deleteReservationId">ID de la Réservation :</label>
    <input type="text" id="deleteReservationId" name="reservationId" required>
    <br>
    <button type="submit">Supprimer Réservation</button>
</form>

<form action="/reservations/details" method="GET">
    <h3>Afficher les Détails d’une Réservation</h3>
    <label for="reservationIdDetails">ID de la Réservation :</label>
    <input type="text" id="reservationIdDetails" name="reservationId" required>
    <br>
    <button type="submit">Afficher Détails</button>
</form>



    <h2>Liens</h2>
    <a href="/catways/list">Voir la Liste des Catways</a><br>
    <a href="/reservations/list">Voir la Liste des Réservations</a><br>
    <a href="/auth/logout">Déconnexion</a>
    
    <script>
        // Exemple de script pour afficher un message
        const params = new URLSearchParams(window.location.search);
        const message = params.get('message');
        if (message) {
            document.getElementById('message').innerText = message; // Affiche le message
        }
    </script>
</body>
</html>



